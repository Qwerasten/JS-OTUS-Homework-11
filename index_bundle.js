(()=>{"use strict";function t(t,n,e){var r="<table  border= 1 px>".concat(n.map((function(t,n){return"<tr>".concat(t.map((function(t,e){return 1===t?"<td \n        data-x=".concat(e,"\n        data-y=").concat(n,'\n        class="cell alive" \n        style="background-color:black; height:40px; width:40px;"></td>'):-1===t?"<td \n        data-x=".concat(e,"\n        data-y=").concat(n,'\n        class="cell will dead" \n        style="background-color:red; height:40px; width:40px;"></td>'):"<td \n      data-x=".concat(e,"\n      data-y=").concat(n,'\n      class="cell dead" \n      style="background-color:white; height:40px; width:40px;"></td>')})).join(""),"</tr>")})).join(""),"</table>");t.innerHTML=r;var a=t.querySelector("table");null==a||a.addEventListener("click",(function(t){var n=t.target,r=n.getAttribute("data-x")?Number(n.getAttribute("data-x")):-1,a=n.getAttribute("data-y")?Number(n.getAttribute("data-y")):-1;r>=0&&a>=0&&e(r,a)}))}function n(t,n,e){var r=t[e];if(void 0===r)return 0;var a=r[n];return void 0===a?0:a}function e(t){return t.map((function(e,r){return e.map((function(e,a){var l,i=function(t,e,r){for(var a=0,l=t-1;l<=t+1;l+=1)a+=Number(n(r,l,e-1));for(var i=t-1;i<=t+1;i+=1)a+=Number(n(r,i,e+1));return(a+=Number(n(r,t-1,e)))+Number(n(r,t+1,e))}(a,r,t),c=n(t,a,r);return 3===(l=i)?1:l>3||l<2?0:2===l&&1===c?1:0}))}))}function r(t){for(var n=0;n<t.length;n+=1)for(var e=t[n],r=0;r<e.length;r+=1)if(e[r])return!0;return!1}function a(t,n){for(var e=Array.from({length:t.length}).map((function(){return Array.from({length:t[0].length}).fill(0)})),r=0;r<t.length;r++)for(var a=0;a<t[0].length;a++)1===t[r][a]&&0===n[r][a]?e[r][a]=-1:e[r][a]=t[r][a];return e}function l(n,l,i){var c,o=!1,d=1e3,u=document.createElement("select"),f=document.createElement("input"),h=document.createElement("input"),g=document.createElement("button"),m=document.createElement("div");u.innerHTML="<option>1</option><option>2<option>",u.selectedIndex=0,f.classList.add("input-speed"),f.value=String(n),f.classList.add("input-width"),h.value=String(l),h.classList.add("input-height"),g.innerHTML="Start",m.classList.add("field-wrapper"),i.appendChild(u),i.appendChild(f),i.appendChild(h),i.appendChild(m),i.appendChild(g);var p=Array.from({length:l}).map((function(){return Array.from({length:n}).fill(0)})),v=Array.from({length:l}).map((function(){return Array.from({length:n}).fill(0)})),s=Array.from({length:l}).map((function(){return Array.from({length:n}).fill(0)})),b=function n(e,r){p[r][e]=0===p[r][e]?1:0,s[r][e]=p[r][e],t(m,s,n)};function y(){o=!1,g.innerHTML="Start",clearInterval(c),r(p)||alert("Death on the block")}function A(){o=!0,g.innerHTML="Stop",c=window.setInterval((function(){p=e(p),v=e(p),s=a(p,v),t(m,s,b),r(p)||y()}),d)}t(m,p,b),g.addEventListener("click",(function(){o?y():A()})),u.addEventListener("change",(function(){o&&clearInterval(c),d=0===u.selectedIndex?1e3:500,o&&A()})),h.addEventListener("change",(function(){var n=p.length,r=Number(h.value),l=r-n;if(l>0){var i=Array.from({length:l}).map((function(){return Array.from({length:p[0].length}).fill(0)}));p=p.concat(i)}else p.length=r,v.length=r,s.length=r;v=e(p),s=a(p,v),t(m,s,b)})),f.addEventListener("change",(function(){var n=p[0].length,r=Number(f.value),l=r-n;if(l>0)for(var i=Array.from({length:l}).fill(0),c=0;c<p.length;c++)p[c]=p[c].concat(i);else for(var o=0;o<p.length;o++)p[o].length=r,v[o].length=r,s[o].length=r;v=e(p),s=a(p,v),t(m,s,b)}))}var i=document.createElement("div"),c=document.createElement("div");document.body.appendChild(i),document.body.appendChild(c),l(4,4,i),l(10,10,c)})();