(()=>{"use strict";function n(n,t,e){var r="<table  border= 1 px>".concat(t.map((function(n,t){return"<tr>".concat(n.map((function(n,e){return 1===n?"<td \n        data-x=".concat(e,"\n        data-y=").concat(t,'\n        class="cell alive" \n        style="background-color:black; height:40px; width:40px;"></td>'):-1===n?"<td \n        data-x=".concat(e,"\n        data-y=").concat(t,'\n        class="cell will dead" \n        style="background-color:red; height:40px; width:40px;"></td>'):"<td \n      data-x=".concat(e,"\n      data-y=").concat(t,'\n      class="cell dead" \n      style="background-color:white; height:40px; width:40px;"></td>')})).join(""),"</tr>")})).join(""),"</table>");n.innerHTML=r;var a=n.querySelector("table");null==a||a.addEventListener("click",(function(n){var t=n.target,r=Number(t.getAttribute("data-x")),a=Number(t.getAttribute("data-y"));r>=0&&a>=0&&e(r,a)}))}function t(n,t,e){var r=n[e];if(void 0===r)return 0;var a=r[t];return void 0===a?0:a}function e(n){return n.map((function(e,r){return e.map((function(e,a){var l,o=function(n,e,r){for(var a=0,l=n-1;l<=n+1;l+=1)a+=Number(t(r,l,e-1));for(var o=n-1;o<=n+1;o+=1)a+=Number(t(r,o,e+1));return(a+=Number(t(r,n-1,e)))+Number(t(r,n+1,e))}(a,r,n),c=t(n,a,r);return 3===(l=o)?1:l>3||l<2?0:2===l&&1===c?1:0}))}))}function r(n){for(var t=0;t<n.length;t+=1)for(var e=n[t],r=0;r<e.length;r+=1)if(e[r])return!0;return!1}function a(n,t){for(var e=Array.from({length:n.length}).map((function(){return Array.from({length:n[0].length}).fill(0)})),r=0;r<n.length;r++)for(var a=0;a<n[0].length;a++)1===n[r][a]&&0===t[r][a]?e[r][a]=-1:e[r][a]=n[r][a];return e}function l(t,l,o){var c,i=!1,d=1e3,u=document.createElement("select"),f=document.createElement("input"),h=document.createElement("input"),m=document.createElement("button"),g=document.createElement("div");u.innerHTML="<option>1</option><option>2<option>",u.selectedIndex=0,f.value=String(t),f.classList.add("input-width"),h.value=String(l),h.classList.add("input-height"),m.innerHTML="Start",g.classList.add("field-wrapper"),o.appendChild(u),o.appendChild(f),o.appendChild(h),o.appendChild(g),o.appendChild(m);var p=Array.from({length:l}).map((function(){return Array.from({length:t}).fill(0)})),v=Array.from({length:l}).map((function(){return Array.from({length:t}).fill(0)})),s=Array.from({length:l}).map((function(){return Array.from({length:t}).fill(0)})),b=function t(e,r){p[r][e]=0===p[r][e]?1:0,s[r][e]=p[r][e],n(g,s,t)};function y(){i=!1,m.innerHTML="Start",clearInterval(c),r(p)||alert("Death on the block")}function x(){i=!0,m.innerHTML="Stop",c=window.setInterval((function(){p=e(p),v=e(p),s=a(p,v),n(g,s,b),r(p)||y()}),d)}n(g,p,b),m.addEventListener("click",(function(){i?y():x()})),u.addEventListener("change",(function(){clearInterval(),d=0===u.selectedIndex?2e3:500,x()})),h.addEventListener("change",(function(){var t=p.length,r=Number(h.value),l=r-t;if(l>0){var o=Array.from({length:l}).map((function(){return Array.from({length:p[0].length}).fill(0)}));p=p.concat(o)}else p.length=r,v.length=r,s.length=r;v=e(p),s=a(p,v),n(g,s,b)})),f.addEventListener("change",(function(){var t=p[0].length,r=Number(f.value),l=r-t;if(l>0)for(var o=Array.from({length:l}).fill(0),c=0;c<p.length;c++)p[c]=p[c].concat(o);else for(var i=0;i<p.length;i++)p[i].length=r,v[i].length=r,s[i].length=r;v=e(p),s=a(p,v),n(g,s,b)}))}var o=document.createElement("div"),c=document.createElement("div");document.body.appendChild(o),document.body.appendChild(c),l(4,4,o),l(10,10,c)})();